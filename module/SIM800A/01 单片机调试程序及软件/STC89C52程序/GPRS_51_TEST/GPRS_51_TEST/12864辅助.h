#include <reg52.h>
/*
#define LCM12864_DB7_DB0 P0 // 定义LCM12864的数据总线
sbit LCM12864_RS = P2 ^ 3; // 定义LCM12864的RS控制线
sbit LCM12864_RW = P2 ^ 4; // 定义LCM12864的RW控制线
sbit LCM12864_E = P2 ^ 2; // 定义LCM12864的E控制线
sbit LCM12864_CS1 = P2 ^ 7; // 定义LCM12864的CS1控制线
sbit LCM12864_CS2 = P2 ^ 6; // 定义LCM12864的CS2控制线
sbit LCM12864_RESET = P2 ^ 5; // 定义LCM12864的RESET控制线
sbit LCM12864_LEDK = P2 ^ 0; // 定义LCM12864的LEDK（BLK）控制线
/*********************************************************************************************
//数据定义
//定义LCM12864的命令字
/*********************************************************************************************/
#define LCM12864_DISP_ON 0x3f // 打开LCM12864显示
#define LCM12864_DISP_OFF 0x3e // 关闭LCM12864显示
#define LCM12864_START_ROW 0xc0 // 显示起始行0，可以用LCM12864_START_ROW+x设置起始行。(x<64)
#define LCM12864_PAGE_START_ADDR 0xb8 // 页起始地址，可以用LCM12864_PAGE_START_ADDR+x设置当前页。(x<8)
#define LCM12864_COL_START_ADDR 0x40 // 列起始地址，可以用LCM12864_COL_START_ADDR+x设置当前列。(x<64)
//定义LCM12864的状态屏蔽码
//在BUSY和REST状态时，除读状态指令外，其他指令均不对LCM12864产生作用。
//在对LCM12864操作之前要查询BUSY状态，以确定是否可以对LCM12864进行操作。
#define LCM12864_STATUS_BUSY 0x08 // LCM12864忙状态屏蔽码
#define LCM12864_STATUS_DISP_OFF 0x20 // LCM12864显示关闭状态屏蔽码
#define LCM12864_STATUS_REST 0x10 // LCM12864复位状态屏蔽码
/*********************************************************************************************
*/
#define Lcd_Bus P0
sbit ECLK=P3^4;
sbit  R_W=P3^3;
sbit   RS=P3^2;
sbit  CS1=P3^5;
sbit  CS2=P3^6;
sbit  err=P3^7;
#define u8   unsigned char
#define u16  unsigned int
#define u32  unsigned short
u16 j,n;
u32 b_com;
unsigned char code we[]={ 

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xF0,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xF8,0xF0,0x10,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x40,0x40,0x40,0x40,0x40,0x44,0x58,0x78,0x40,0xC0,0xC0,0x40,0x60,
0x60,0x40,0x00,0xE0,0x40,0x40,0x20,0x20,0x30,0x30,0x18,0x18,0x10,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x42,0x42,0x42,0x42,0x42,0x42,0x42,
0x42,0x42,0x42,0x42,0x42,0x42,0x42,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x20,0x20,0x20,0x21,0x26,0x3E,0x20,0xE0,0xE0,0x38,0x27,0x21,0x21,0x20,
0x30,0x20,0x00,0xFF,0xC0,0x40,0x40,0x40,0xC0,0xC0,0x40,0x20,0x30,0x20,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x26,0x20,0x20,0x20,0x20,0x20,0x30,0x20,0x00,
0x00,0xFF,0xFE,0x42,0x40,0x20,0x20,0x30,0x18,0x1C,0x0C,0x08,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x08,0xC8,0x78,0x28,0x08,0xFF,0xFF,0x08,0x28,0x68,0xC4,0x86,
0x04,0x00,0xE0,0xFF,0x01,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x00,0x00,0x00,0x00,0x10,0x7F,0x30,0x30,0x10,0x10,0x08,0x08,0x08,0x08,0x04,
0x00,0x1F,0x3F,0x30,0x30,0x20,0x20,0x20,0x20,0x20,0x30,0x30,0x3F,0x18,0x00,0x00,/*"昆",0*/
0x00,0x00,0x08,0x04,0x03,0x01,0x10,0x10,0x30,0x3F,0x3F,0x00,0x00,0x40,0x21,0x11,
0x08,0x06,0x03,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,/*"新",1*/



0x00,0x40,0x40,0xC0,0xC0,0x40,0x40,0x00,0x00,0x00,0x40,0xC0,0xC0,0x40,0x40,0x00,/*"K",0*/
0x40,0x40,0xC0,0xC0,0x40,0x40,0x00,0x00,0x00,0x00,0x40,0x40,0xC0,0x40,0x40,0x00,/*"U",0*/
0x40,0x40,0xC0,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0xC0,0x40,0x40,0x00,/*"N",0*/
0x00,0x00,0x00,0x00,0x80,0xC0,0x40,0x40,0x40,0x40,0x40,0x80,0x80,0xC0,0x00,0x00,/*"S",0*/

0x00,0x00,0x00,0xFF,0xFF,0x00,0x80,0xE0,0xF0,0x0C,0x06,0x01,0x00,0x00,0x00,0x00,/*"K",1*/
0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,/*"U",1*/
0x00,0x00,0xFF,0x01,0x0F,0x3F,0xF8,0xE0,0x80,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,/*"N",1*/
0x00,0x00,0x1E,0x7F,0x61,0xC0,0xC0,0x80,0x80,0x80,0x00,0x00,0x01,0x07,0x00,0x00,/*"S",1*/

0x00,0x00,0x00,0xFF,0xFF,0x03,0x00,0x01,0x07,0x1F,0x7C,0xF0,0xC0,0x00,0x00,0x00,/*"K",2*/
0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,/*"U",2*/
0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x03,0x0F,0x3E,0xF8,0xE0,0xFF,0x00,0x00,0x00,/*"N",2*/
0x00,0x00,0x60,0x80,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x07,0x0E,0xFC,0xF8,0x00,/*"S",2*/

0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x00,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04,/*"K",3*/
0x00,0x00,0x00,0x03,0x02,0x06,0x04,0x04,0x04,0x04,0x02,0x01,0x00,0x00,0x00,0x00,/*"U",3*/
0x04,0x04,0x07,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x07,0x00,0x00,0x00,/*"N",3*/
0x00,0x00,0x00,0x07,0x03,0x02,0x04,0x04,0x04,0x04,0x04,0x06,0x03,0x01,0x00,0x00,/*"S",3*/
};

unsigned char code qe[]={ 
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xF8,
0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
0x10,0x10,0x10,0x10,0x10,0x90,0xD0,0x70,0x70,0x38,0x30,0x20,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFF,0xFF,
0x82,0x82,0x82,0x82,0x82,0x82,0x82,0x82,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xFC,
0xFC,0x8C,0x82,0x82,0x81,0x80,0x80,0x80,0x80,0x80,0xC0,0xE0,0xC0,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xFF,0xFF,
0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x3F,
0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x31,0x3E,0x10,0x00,0x00,/*"电",0*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x10,0x10,0x30,0x70,0x7F,
0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"子",1*/

0x40,0x40,0xC0,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0x40,0x40,
0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x40,0x40,0xC0,0xC0,0x40,0x40,0x00,0x00,0x00,0x40,0xC0,0xC0,0x40,0x40,0x00,
0x00,0x40,0x40,0xC0,0xC0,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xC0,0xC0,0x00,0x00,

0x00,0x00,0xFF,0x07,0xFF,0xF8,0x80,0x00,0x00,0xC0,0x7C,0x07,0xFF,0xFF,0x00,0x00,
0x00,0x00,0x00,0x00,0xC0,0x7C,0x07,0x01,0x3F,0xFC,0xC0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x00,0x80,0xE0,0xF0,0x0C,0x06,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x80,0x80,0x80,0x80,0x80,0xC0,0xF0,0x00,0x03,0x06,0x00,

0x00,0x00,0xFF,0x00,0x00,0x0F,0xFF,0xF0,0x78,0x07,0x00,0x00,0xFF,0xFF,0x00,0x00,
0x00,0x00,0xC0,0x7C,0x07,0x04,0x04,0x04,0x04,0x07,0x7F,0xFC,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x03,0x00,0x01,0x07,0x1F,0x7C,0xF0,0xC0,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x00,0x00,0xC0,0x00,

0x04,0x04,0x07,0x04,0x04,0x00,0x01,0x07,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04,/*"M",0*/
0x04,0x06,0x07,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x04,0x07,0x07,0x04,0x04,0x00,/*"A",1*/
0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x00,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04,/*"K",2*/
0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x06,0x07,0x00,0x00,/*"E",3*/
};
u8 code ec[]={
0x00,0x40,0x40,0xC0,0xC0,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xC0,0xC0,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0xC0,0x40,0x40,0x40,0x40,0x40,0x80,0x80,0xC0,0x00,0x00,
0x00,0x40,0xC0,0xC0,0xC0,0x40,0x40,0x00,0x00,0x00,0x40,0x40,0xC0,0x40,0x40,0x00,

0x00,0x00,0x00,0xFF,0xFF,0x80,0x80,0x80,0x80,0x80,0xC0,0xF0,0x00,0x03,0x06,0x00,
0x00,0x00,0x00,0x00,0xC0,0x7C,0x07,0x01,0x3F,0xFC,0xC0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x1E,0x7F,0x61,0xC0,0xC0,0x80,0x80,0x80,0x00,0x00,0x01,0x07,0x00,0x00,
0x00,0x00,0x00,0x03,0x1F,0x7C,0xF0,0x80,0x00,0xC0,0x38,0x0E,0x01,0x00,0x00,0x00,

0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x00,0x00,0xC0,0x00,
0x00,0x00,0xC0,0x7C,0x07,0x04,0x04,0x04,0x04,0x07,0x7F,0xFC,0x80,0x00,0x00,0x00,
0x00,0x00,0x60,0x80,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x07,0x0E,0xFC,0xF8,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFF,0xFE,0x01,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x06,0x07,0x00,0x00,/*"E",0*/
0x04,0x06,0x07,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x04,0x07,0x07,0x04,0x04,0x00,/*"A",1*/
0x00,0x00,0x00,0x07,0x03,0x02,0x04,0x04,0x04,0x04,0x04,0x06,0x03,0x01,0x00,0x00,/*"S",2*/
0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04,0x00,0x00,0x00,0x00,0x00,/*"Y",3*/



0x40,0x40,0xC0,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0x40,0x40,
0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x40,0x40,0x40,0x40,0x80,0x80,0xC0,0x00,0x00,
0x40,0x40,0xC0,0xC0,0x40,0x40,0x00,0x00,0x00,0x00,0x40,0x40,0xC0,0x40,0x40,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,



0x00,0x00,0xFF,0x07,0xFF,0xF8,0x80,0x00,0x00,0xC0,0x7C,0x07,0xFF,0xFF,0x00,0x00,
0x00,0xE0,0xFC,0x0E,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x0C,0x00,
0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,




0x00,0x00,0xFF,0x00,0x00,0x0F,0xFF,0xF0,0x78,0x07,0x00,0x00,0xFF,0xFF,0x00,0x00,
0x00,0x1F,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,
0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,



0x04,0x04,0x07,0x04,0x04,0x00,0x01,0x07,0x00,0x00,0x04,0x04,0x07,0x07,0x04,0x04,/*"M",0*/
0x00,0x00,0x00,0x01,0x03,0x02,0x04,0x04,0x04,0x04,0x04,0x02,0x03,0x01,0x00,0x00,/*"C",1*/
0x00,0x00,0x00,0x03,0x02,0x06,0x04,0x04,0x04,0x04,0x02,0x01,0x00,0x00,0x00,0x00,/*"U",2*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,





};
unsigned char code TEL[]={ 
0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,
0x08,0xF8,0x88,0x88,0xC8,0x18,0x00,0x00,
0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,

0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
0x00,0x30,0x08,0x48,0x48,0xB0,0x00,0x00,
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
0x00,0x30,0x08,0x48,0x48,0xB0,0x00,0x00,


0x00,0x00,0x08,0x0F,0x08,0x00,0x00,0x00,/*"T",0*/
0x08,0x0F,0x08,0x08,0x09,0x0C,0x00,0x00,/*"E",1*/
0x08,0x0F,0x08,0x08,0x08,0x0C,0x00,0x00,/*"L",2*/
0x00,0x00,0x0C,0x0C,0x00,0x00,0x00,0x00,/*":",3*/

0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",4*/
0x00,0x06,0x08,0x08,0x08,0x07,0x00,0x00,/*"3",5*/
0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",6*/
0x00,0x06,0x08,0x08,0x08,0x07,0x00,0x00,/*"3",7*/

0x00,0x30,0x08,0x08,0x88,0x70,0x00,0x00,
0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,
0xE0,0x90,0x48,0x48,0x48,0x98,0x00,0x00,
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,

0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,
0xE0,0x90,0x48,0x48,0x48,0x98,0x00,0x00,
0xE0,0x90,0x48,0x48,0x48,0x98,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x0C,0x0A,0x09,0x08,0x0C,0x00,0x00,/*"2",8*/
0x03,0x04,0x08,0x08,0x04,0x03,0x00,0x00,/*"0",9*/
0x07,0x08,0x08,0x08,0x08,0x07,0x00,0x00,/*"6",10*/
0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",11*/

0x03,0x04,0x08,0x08,0x04,0x03,0x00,0x00,/*"0",12*/
0x07,0x08,0x08,0x08,0x08,0x07,0x00,0x00,/*"6",13*/
0x07,0x08,0x08,0x08,0x08,0x07,0x00,0x00,/*"6",14*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,


0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,
0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,
0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
0x00,0xC0,0x20,0x10,0xFC,0x00,0x00,0x00,
0x00,0xF8,0x48,0x48,0x48,0x88,0x00,0x00,
0x00,0xF8,0x48,0x48,0x48,0x88,0x00,0x00,
0x03,0x04,0x0A,0x0A,0x1C,0x13,0x00,0x00,/*"Q",0*/
0x03,0x04,0x0A,0x0A,0x1C,0x13,0x00,0x00,/*"Q",1*/
0x00,0x00,0x0C,0x0C,0x00,0x00,0x00,0x00,/*":",2*/
0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",3*/
0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",4*/
0x01,0x02,0x02,0x0A,0x0F,0x0A,0x00,0x00,/*"4",5*/
0x00,0x06,0x08,0x08,0x08,0x07,0x00,0x00,/*"5",6*/
0x00,0x06,0x08,0x08,0x08,0x07,0x00,0x00,/*"5",7*/



0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,
0xF0,0x08,0x08,0x08,0x88,0xF0,0x00,0x00,
0x00,0xF8,0x48,0x48,0x48,0x88,0x00,0x00,
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
0x00,0x38,0x08,0x88,0x68,0x18,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,


0x03,0x04,0x08,0x08,0x04,0x03,0x00,0x00,/*"0",8*/
0x0C,0x09,0x09,0x09,0x04,0x03,0x00,0x00,/*"9",9*/
0x00,0x06,0x08,0x08,0x08,0x07,0x00,0x00,/*"5",10*/
0x00,0x08,0x08,0x0F,0x08,0x08,0x00,0x00,/*"1",11*/
0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x00,/*"7",12*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};



void LCM12864_WriteData(unsigned char);
void LCM12864_TestBusy();		  //  读取状态
void LCM12864_WriteCMD(unsigned char);
void LCM12864_PAGE_SELECT(bit,bit);
void LCM12864_Init(void);
void LCM12864_Disp_Bitmap_12864();		  //
void LCD_Delay(u8);		  //  延时

///////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
void LCM12864_WriteData(unsigned char LCM12864_data)
{
Lcd_Bus=LCM12864_data;
ECLK=1;
ECLK=0;

}

////////////////////////////////////
void LCM12864_PAGE(unsigned char d_page)//写入指令
{LCM12864_TestBusy();
R_W=0;
RS=0;
LCM12864_WriteData(d_page);
}

//////////////////////////////////////////////

void LCM12864_Display(unsigned char b_dis)  //写入数据
{
LCM12864_TestBusy();
R_W=0;
RS=1;
LCM12864_WriteData(b_dis);
}

void LCM12864_WriteCMD(unsigned char LCM12864_command)
{
LCM12864_TestBusy();
R_W=0;
RS=0;
LCM12864_WriteData(LCM12864_command);
}
void LCM12864_PAGE_SELECT(bit u_1,bit u_2)
{
CS1=u_1;
CS2=u_2;
}
/////////////////////////////////////////////////
void LCD_CLEAR_SCREEN(unsigned char lcd_screen)
{
char i_for;
LCM12864_PAGE_SELECT(1,1);
for(i_for=0;i_for<8;i_for++)
{
LCM12864_PAGE(LCM12864_PAGE_START_ADDR+i_for);
LCM12864_WriteCMD(LCM12864_START_ROW);
LCM12864_WriteCMD(LCM12864_COL_START_ADDR);
n=0;
while (n<64)
{
if (j>sizeof(we)-1){j=0;}
LCM12864_Display(lcd_screen);
j++;
n++;
}
}
}

void LCM12864_Disp_Bitmap_12864()//X地址 页码显示
{char i_for;
LCD_CLEAR_SCREEN(0x00);//0x00白屏 0XFF黑屏
j=0;

for(i_for=0;i_for<8;i_for++)
{//LCD_Delay (10); 
LCM12864_PAGE_SELECT(1,0);
LCM12864_PAGE(LCM12864_PAGE_START_ADDR+i_for);
LCM12864_WriteCMD(LCM12864_START_ROW);
LCM12864_WriteCMD(LCM12864_COL_START_ADDR);
n=0;
while (n<64)
{if (j>(sizeof(we)-1)){j=0;break;}
b_com=*(we+j);
LCM12864_Display(b_com);
j++;
n++;
}
}
j=0;
for(i_for=0;i_for<8;i_for++)
{//LCD_Delay (10); 
LCM12864_PAGE_SELECT(0,1);
LCM12864_PAGE(LCM12864_PAGE_START_ADDR+i_for);
LCM12864_WriteCMD(LCM12864_START_ROW);
LCM12864_WriteCMD(LCM12864_COL_START_ADDR);
n=0;
while (n<64)
{if (j>(sizeof(qe)-1)){j=0;break;}
b_com=*(qe+j);
LCM12864_Display(b_com);
j++;
n++;
}
}
}
////////////////////////////////////////////////

void LCM12864_Disp_Bitmap_12864_2()//X地址 页码显示
{char i_for;
LCD_CLEAR_SCREEN(0x00);//0x00白屏 0XFF黑屏
j=0;

for(i_for=0;i_for<8;i_for++)
{//LCD_Delay (10); 
LCM12864_PAGE_SELECT(1,0);
LCM12864_PAGE(LCM12864_PAGE_START_ADDR+i_for);
LCM12864_WriteCMD(LCM12864_START_ROW);
LCM12864_WriteCMD(LCM12864_COL_START_ADDR);
n=0;
while (n<64)
{if (j>(sizeof(ec)-1)){j=0;break;}
b_com=*(ec+j);
LCM12864_Display(b_com);
j++;
n++;
}
}
j=0;
for(i_for=0;i_for<8;i_for++)
{//LCD_Delay (10); 
LCM12864_PAGE_SELECT(0,1);
LCM12864_PAGE(LCM12864_PAGE_START_ADDR+i_for);
LCM12864_WriteCMD(LCM12864_START_ROW);
LCM12864_WriteCMD(LCM12864_COL_START_ADDR);
n=0;
while (n<64)
{if (j>(sizeof(TEL)-1)){j=0;break;}
b_com=*(TEL+j);
LCM12864_Display(b_com);
j++;
n++;
}
}
}


////////////////////////////////////////
void LCM12864_TestBusy()
{
R_W=1;
RS=0;
ECLK=1;
while(Lcd_Bus & LCM12864_STATUS_BUSY);
}
////////////////////////////
void LCM12864_Init(void)
{

//LCD_Delay (10); 
LCM12864_WriteCMD(LCM12864_DISP_OFF);
LCM12864_PAGE_SELECT(1,1);
ECLK=0;
LCM12864_WriteCMD(LCM12864_DISP_ON);
}
////////////////////
void LCD_Delay (u8 de_j) //延时
{u16 i,a;
for (i=0;i<de_j;i++)
{
for (a=0;a<6000;)
{
a++;
}
}
}
