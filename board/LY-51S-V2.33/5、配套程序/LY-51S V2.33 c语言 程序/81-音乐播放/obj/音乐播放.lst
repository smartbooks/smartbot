C51 COMPILER V9.00   ÒôÀ_²¥·Å                                                              04/30/2022 18:54:44 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE ÒôÀ_²¥·Å
OBJECT MODULE PLACED IN .\obj\ÒôÀÖ²¥·Å.obj
COMPILER INVOKED BY: D:\tool\Keil_v5_c51_stc\C51\BIN\C51.EXE ÒôÀÖ²¥·Å.c BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\ÒôÀÖ²¥·Å.l
                    -st) OBJECT(.\obj\ÒôÀÖ²¥·Å.obj)

line level    source

   1          /*-----------------------------------------------
   2            Ãû³Æ£ºÒôÀÖ²¥·Å
   3            ÂÛÌ³£ºwww.doflye.net
   4            ±àÐ´£ºshifang
   5            ÈÕÆÚ£º2009.5
   6            ÐÞ¸Ä£ºÎÞ
   7            ÄÚÈÝ£º
   8          ------------------------------------------------*/
   9          #include<reg52.h>        //°üº¬Í·ÎÄ¼þ£¬Ò»°ãÇé¿ö²»ÐèÒª¸Ä¶¯£
  10                                   //Í·ÎÄ¼þ°üº¬ÌØÊâ¹¦ÄÜ¼Ä´æÆ÷µÄ¶¨Òå
  11          /*------------------------------------------------
  12                           Ó²¼þ¶Ë¿Ú¶¨Òå
  13          ------------------------------------------------*/
  14          sbit      SPK=P0^2;  //¶¨ÒåÒôÀÖÊä³ö¶Ë¿Ú
  15          
  16          unsigned char Timer0_H,Timer0_L,Time;
  17                                   //ÊÀÉÏÖ»ÓÐÂèÂèºÃÊý¾Ý±í
  18          code unsigned char MUSIC[]={          6,2,3,      5,2,1,      3,2,2,    5,2,2,    1,3,2,    6,2,1,    5,2,
             -1,
  19                                                6,2,4,      3,2,2,      5,2,1,    6,2,1,    5,2,2,        3,2,2,    1,2,1,
  20                                                6,1,1,      5,2,1,      3,2,1,    2,2,4,    2,2,3,        3,2,1,    5,2,2,
  21                                                5,2,1,      6,2,1,      3,2,2,    2,2,2,    1,2,4,        5,2,3,    3,2,1,
  22                                                2,2,1,      1,2,1,      6,1,1,    1,2,1,    5,1,6,        0,0,0 
  23                                                };
  24                                   // Òô½×ÆµÂÊ±í ¸ß°ËÎ»
  25          code unsigned char FREQH[]={
  26                                          0xF2,0xF3,0xF5,0xF5,0xF6,0xF7,0xF8, 
  27                                          0xF9,0xF9,0xFA,0xFA,0xFB,0xFB,0xFC,0xFC, //1,2,3,4,5,6,7,8,i
  28                                          0xFC,0xFD,0xFD,0xFD,0xFD,0xFE,
  29                                          0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFF,
  30                                         } ;
  31                                   // Òô½×ÆµÂÊ±í µÍ°ËÎ»
  32          code unsigned char FREQL[]={
  33                                           0x42,0xC1,0x17,0xB6,0xD0,0xD1,0xB6,
  34                                           0x21,0xE1,0x8C,0xD8,0x68,0xE9,0x5B,0x8F, //1,2,3,4,5,6,7,8,i
  35                                           0xEE,0x44, 0x6B,0xB4,0xF4,0x2D, 
  36                                           0x47,0x77,0xA2,0xB6,0xDA,0xFA,0x16,
  37                                          };
  38          /*------------------------------------------------
  39           uSÑÓÊ±º¯Êý£¬º¬ÓÐÊäÈë²ÎÊý unsigned char t£¬ÎÞ·µ»ØÖµ
  40           unsigned char ÊÇ¶¨ÒåÎÞ·ûºÅ×Ö·û±äÁ¿£¬ÆäÖµµÄ·¶Î§ÊÇ
  41           0~255 ÕâÀïÊ¹ÓÃ¾§Õñ12M£¬¾«È·ÑÓÊ±ÇëÊ¹ÓÃ»ã±à,´óÖÂÑÓÊ±
  42           ³¤¶ÈÈçÏÂ T=tx2+5 uS 
  43          ------------------------------------------------*/
  44          void DelayUs2x(unsigned char t)
  45          {   
  46   1       while(--t);
  47   1      }
  48          /*------------------------------------------------
  49           mSÑÓÊ±º¯Êý£¬º¬ÓÐÊäÈë²ÎÊý unsigned char t£¬ÎÞ·µ»ØÖµ
  50           unsigned char ÊÇ¶¨ÒåÎÞ·ûºÅ×Ö·û±äÁ¿£¬ÆäÖµµÄ·¶Î§ÊÇ
  51           0~255 ÕâÀïÊ¹ÓÃ¾§Õñ12M£¬¾«È·ÑÓÊ±ÇëÊ¹ÓÃ»ã±à
  52          ------------------------------------------------*/
  53          void DelayMs(unsigned char t)
C51 COMPILER V9.00   ÒôÀ_²¥·Å                                                              04/30/2022 18:54:44 PAGE 2   

  54          {
  55   1           
  56   1       while(t--)
  57   1       {
  58   2           //´óÖÂÑÓÊ±1mS
  59   2           DelayUs2x(245);
  60   2               DelayUs2x(245);
  61   2       }
  62   1      }
  63          /*------------------------------------------------
  64                          ½ÚÅÄÑÓÊ±º¯Êý
  65           ¸÷µ÷1/4½ÚÅÄÊ±¼ä£º
  66           µ÷4/4  125ms
  67           µ÷2/4  250ms
  68           µ÷3/4  187ms
  69          ------------------------------------------------*/
  70          void delay(unsigned char t)
  71          {
  72   1          unsigned char i;
  73   1              for(i=0;i<t;i++)
  74   1                  DelayMs(250);
  75   1          TR0=0;
  76   1       }
  77          /*------------------------------------------------
  78                         ¶¨Ê±Æ÷0ÖÐ¶Ï
  79          ------------------------------------------------*/
  80          void TIM0_ISR() interrupt 1
  81          {
  82   1       TR0=0;      
  83   1       SPK=!SPK;
  84   1       TH0=Timer0_H;
  85   1       TL0=Timer0_L;
  86   1       TR0=1;
  87   1       }
  88          /*------------------------------------------------
  89                          ¸èÇú´¦Àíº¯Êý
  90          ------------------------------------------------*/
  91          void Song()
  92          {
  93   1       TH0=Timer0_H;//¸³Öµ¶¨Ê±Æ÷Ê±¼ä£¬¾ö¶¨ÆµÂÊ
  94   1       TL0=Timer0_L;
  95   1       TR0=1;       //´ò¿ª¶¨Ê±Æ÷
  96   1       delay(Time); //ÑÓÊ±ËùÐèÒªµÄ½ÚÅÄ                      
  97   1       }
  98          /*------------------------------------------------
  99                          Ö÷º¯Êý
 100          ------------------------------------------------*/
 101           void main(void)
 102           {
 103   1       unsigned char k,i;
 104   1       TMOD|=0x01; //ÖÃ¶¨Ê±Æ÷0¹¤×÷·½Ê½1
 105   1       EA=1;       //´ò¿ªÈ«¾ÖÖÐ¶Ï
 106   1       ET0=1;      //´ò¿ª¶¨Ê±0ÖÐ¶Ï
 107   1       while(1)
 108   1            {
 109   2             i=0;  
 110   2             while(i<100)
 111   2                      {         //ÒôÀÖÊý×é³¤¶È £¬³ªÍê´ÓÍ·ÔÙÀ´        
 112   3                  k=MUSIC[i]+7*MUSIC[i+1]-1;//È¥Òô·ûÕñµ´ÆµÂÊËùÐèÊý¾Ý
 113   3                  Timer0_H=FREQH[k];
 114   3                  Timer0_L=FREQL[k];
 115   3                  Time=MUSIC[i+2];          //½ÚÅÄÊ±³¤
C51 COMPILER V9.00   ÒôÀ_²¥·Å                                                              04/30/2022 18:54:44 PAGE 3   

 116   3                  i=i+3;
 117   3                  Song();
 118   3                 }
 119   2             } 
 120   1        }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    131    ----
   CONSTANT SIZE    =    158    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
